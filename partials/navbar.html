<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Inicio Sesion Growza</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-body-tertiary fixed-top">
        <div class="container-fluid">

            <!-- Marca -->
            <a class="navbar-brand d-flex align-items-center" href="/index.html">
                <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="var(--verde-oscuro)"
                    viewBox="0 0 256 256">
                    <path
                        d="M255.62,51.65a12,12,0,0,0-11.27-11.27c-53.27-3.13-96.2,13.36-114.84,44.14-12.14,20-12.56,44.17-1.46,67.3a75.14,75.14,0,0,0-12.28,23l-12.66-12.66c7.19-16.77,6.43-34.11-2.4-48.69C86.73,90.36,54.89,78,15.55,80.27A12,12,0,0,0,4.28,91.55C2,130.89,14.36,162.73,37.45,176.71a49.76,49.76,0,0,0,26,7.27,57.54,57.54,0,0,0,22.7-4.87L112,205v23a12,12,0,0,0,24,0V198.51a51.63,51.63,0,0,1,9.49-29.95,76.82,76.82,0,0,0,32.1,7.39,64.91,64.91,0,0,0,33.89-9.46C242.25,147.85,258.76,104.92,255.62,51.65ZM49.88,156.18c-13.19-8-21.18-27.46-21.83-52.13,24.67.65,44.14,8.64,52.13,21.83a26,26,0,0,1,3.63,17L72.48,131.51a12,12,0,0,0-17,17l11.34,11.34A26.27,26.27,0,0,1,49.88,156.18ZM199.05,146c-10.66,6.45-23,7.67-35.81,3.76l37.25-37.24a12,12,0,0,0-17-17l-37.25,37.24C142.37,120,143.59,107.61,150,97c12.7-21,42.65-33,81.32-33H232C232.14,103,220.14,133.18,199.05,146Z">
                    </path>
                </svg>
                <span class="ms-2">GROWZA</span>
            </a>
            <!-- Botón hamburguesa -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Links -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <button class="btn-close-menu" id="close-menu-btn" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-label="Cerrar menú">
                    &times;
                </button>
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">

                    <li class="nav-item"><a class="nav-link" href="/index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="/catalogo.html" id="catalogo-link">Catálogo</a></li>
                    <li class="nav-item"><a class="nav-link" href="/nosotros.html">Sobre Nosotros</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="/contacto.html">Contáctenos</a></li>
                    <li class="nav-item d-none" id="adminLinkItem">
                        <a class="nav-link" href="/admin/admin.html">Panel admin</a>
                    </li>

                    <!-- Favoritos -->
                    <!-- <li class="nav-item"><a class="nav-link" href="/admin/admin.html">Admin</a></li> -->

                    <li class="nav-item d-none" id="searchItem">
                        <a class="nav-link" href="#" id="botonBuscar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="var(--verde-oscuro)"
                                viewBox="0 0 256 256">
                                <path
                                    d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z">
                                </path>
                            </svg>
                        </a>
                    </li>

                    <li class="nav-item d-none" id="searchBox">
                        <input type="text" class="form-control" placeholder="Buscar en catálogo...">
                    </li>

                    <!-- Ícono carrito -->
                    <li class="nav-item">
                        <a class="nav-link" id="carritoCompra" data-bs-toggle="modal" data-bs-target="#carritoModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="var(--verde-oscuro)"
                                viewBox="0 0 256 256">
                                <path
                                    d="M140,128v40a12,12,0,0,1-24,0V128a12,12,0,0,1,24,0Zm28.06-1.19-4,40a12,12,0,0,0,10.75,13.13c.4,0,.81.06,1.2.06a12,12,0,0,0,11.93-10.81l4-40a12,12,0,0,0-23.88-2.38Zm-80.12,0a12,12,0,0,0-23.88,2.38l4,40A12,12,0,0,0,80,180c.39,0,.8,0,1.2-.06a12,12,0,0,0,10.75-13.13Zm156-37.22-15.07,113A20.06,20.06,0,0,1,209,220H47a20.06,20.06,0,0,1-19.82-17.36l-15.07-113A12,12,0,0,1,24,76H66.55L119,16.1a12,12,0,0,1,18.06,0L189.45,76H232a12,12,0,0,1,11.89,13.59ZM98.45,76h59.1L128,42.22Zm119.84,24H37.71l12.8,96h155Z">
                                </path>
                            </svg>
                            <span id="contador-carrito" style="position: absolute; top: -10px; right: -10px; 
                                background: red; color: white; 
                                border-radius: 50%; padding: 2px 6px; font-size: 14px; display: none;">
                                0
                            </span>
                        </a>
                    </li>

                    <!-- Dropdown -->
                    <li class="nav-item dropdown" id="userDropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="var(--verde-oscuro)"
                                viewBox="0 0 256 256">
                                <path
                                    d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20ZM79.57,196.57a60,60,0,0,1,96.86,0,83.72,83.72,0,0,1-96.86,0ZM100,120a28,28,0,1,1,28,28A28,28,0,0,1,100,120ZM194,179.94a83.48,83.48,0,0,0-29-23.42,52,52,0,1,0-74,0,83.48,83.48,0,0,0-29,23.42,84,84,0,1,1,131.9,0Z">
                                </path>
                            </svg>
                        </a>

                        <ul class="dropdown-menu dropdown-menu-end">
                            <li id="loginItem">
                                <a class="dropdown-item d-flex align-items-center gap-2" href="/inicioSesion.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                        fill="var(--verde-oscuro)" viewBox="0 0 256 256">
                                        <path
                                            d="M144.49,136.49l-40,40a12,12,0,0,1-17-17L107,140H24a12,12,0,0,1,0-24h83L87.51,96.49a12,12,0,0,1,17-17l40,40A12,12,0,0,1,144.49,136.49ZM200,28H136a12,12,0,0,0,0,24h52V204H136a12,12,0,0,0,0,24h64a12,12,0,0,0,12-12V40A12,12,0,0,0,200,28Z">
                                        </path>
                                    </svg>
                                    Iniciar sesión
                                </a>
                            </li>
                            <li id="registerItem">
                                <a class="dropdown-item d-flex align-items-center gap-2" href="/registro.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                        fill="var(--verde-oscuro)" viewBox="0 0 256 256">
                                        <path
                                            d="M256,136a12,12,0,0,1-12,12h-8v8a12,12,0,0,1-24,0v-8h-8a12,12,0,0,1,0-24h8v-8a12,12,0,0,1,24,0v8h8A12,12,0,0,1,256,136Zm-54.81,56.28a12,12,0,1,1-18.38,15.44C169.12,191.42,145,172,108,172c-28.89,0-55.46,12.68-74.81,35.72a12,12,0,0,1-18.38-15.44A124.08,124.08,0,0,1,63.5,156.53a72,72,0,1,1,89,0A124,124,0,0,1,201.19,192.28ZM108,148a48,48,0,1,0-48-48A48.05,48.05,0,0,0,108,148Z">
                                        </path>
                                    </svg>
                                    Registrarse
                                </a>
                            </li>

                            <!-- Contenedor de panel de usuario -->
                            <div id="user-panel" style="display: none;">
                                <li>
                                    <a class="dropdown-item d-flex align-items-center gap-2" href="/vistaUsuario.html">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            fill="var(--verde-oscuro)" viewBox="0 0 256 256">
                                            <path
                                                d="M128,128a44,44,0,1,0-44-44A44,44,0,0,0,128,128Zm0,24c-36.48,0-68.7,20.53-85.26,51.05a12,12,0,0,0,20.77,11.9C77.06,192.74,101.62,180,128,180s50.94,12.74,64.49,34.95a12,12,0,0,0,20.77-11.9C196.7,172.53,164.48,152,128,152Z">
                                            </path>
                                        </svg>
                                        Panel de Usuario
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item d-flex align-items-center gap-2" href="#"
                                        id="cerrarSesionNavbar">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            fill="var(--verde-oscuro)" viewBox="0 0 256 256">
                                            <path
                                                d="M144.49,136.49l-40,40a12,12,0,0,1-17-17L107,140H24a12,12,0,0,1,0-24h83L87.51,96.49a12,12,0,0,1,17-17l40,40A12,12,0,0,1,144.49,136.49ZM200,28H136a12,12,0,0,0,0,24h52V204H136a12,12,0,0,0,0,24h64a12,12,0,0,0,12-12V40A12,12,0,0,0,200,28Z">
                                            </path>
                                        </svg>
                                        Cerrar sesión
                                    </a>
                                </li>
                            </div>
                        </ul>

                    </li>
                </ul>
            </div>
            <!-- Para cerrar el menú con click -->
            <div class="menu-overlay"></div>
        </div>
    </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/navbar.js"></script>
    <script src="/assets/js/auth.js"></script>

    <script>
        // Selecciona el botón y el menú por sus ID
        const closeMenuButton = document.getElementById('close-menu-btn');
        const navbarCollapse = document.getElementById('navbarSupportedContent');

        // Crea una instancia del componente Collapse de Bootstrap
        const bsCollapse = new bootstrap.Collapse(navbarCollapse, {
            toggle: false // Esto evita que se abra al iniciar
        });

        // Escucha el clic en el botón de cerrar
        closeMenuButton.addEventListener('click', function () {
            // Cierra el menú explícitamente
            bsCollapse.hide();
        });
    </script>
</body>

</html>